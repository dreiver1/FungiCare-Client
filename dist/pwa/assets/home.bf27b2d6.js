import{u as Z,b as ee,Q as te,a as R}from"./QPage.993fe9db.js";import{Q as le}from"./QImg.8cce764e.js";import{Q as ae}from"./QBtn.fb9a5210.js";import{a as ie,b as ne,Q as T,R as oe}from"./Ripple.a8f1de9e.js";import{c as X,e as re,f as ue}from"./render.531441aa.js";import{f as s,h as m,L,j as M,t as E,G as se,E as ce,F as de,M as fe,_ as me,d as ve,o as ge,c as he,w as A,C as w,a as j}from"./index.3a3715fe.js";import{u as be,a as pe,b as xe,e as ye,c as _e,d as Ce,f as Se,h as W}from"./use-file-dom-props.b363477a.js";import"./use-router-link.9a773819.js";import"./dom.120d800e.js";const Fe={xs:8,sm:10,md:14,lg:20,xl:24};var ke=X({name:"QChip",props:{...Z,...ie,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:u,emit:h}){const{proxy:{$q:v}}=M(),r=ee(e,v),c=ne(e,Fe),x=s(()=>e.selected===!0||e.icon!==void 0),y=s(()=>e.selected===!0?e.iconSelected||v.iconSet.chip.selected:e.icon),k=s(()=>e.iconRemove||v.iconSet.chip.remove),_=s(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),q=s(()=>{const a=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(a?` text-${a} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(_.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),S=s(()=>{const a=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},F={...a,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||v.lang.label.remove};return{chip:a,remove:F}});function z(a){a.keyCode===13&&V(a)}function V(a){e.disable||(h("update:selected",!e.selected),h("click",a))}function B(a){(a.keyCode===void 0||a.keyCode===13)&&(L(a),e.disable===!1&&(h("update:modelValue",!1),h("remove")))}function o(){const a=[];_.value===!0&&a.push(m("div",{class:"q-focus-helper"})),x.value===!0&&a.push(m(T,{class:"q-chip__icon q-chip__icon--left",name:y.value}));const F=e.label!==void 0?[m("div",{class:"ellipsis"},[e.label])]:void 0;return a.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ue(u.default,F))),e.iconRight&&a.push(m(T,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&a.push(m(T,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:k.value,...S.value.remove,onClick:B,onKeyup:B})),a}return()=>{if(e.modelValue===!1)return;const a={class:q.value,style:c.value};return _.value===!0&&Object.assign(a,S.value.chip,{onClick:V,onKeyup:z}),re("div",a,o(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[oe,e.ripple]])}}});function I(e,u,h,v){const r=[];return e.forEach(c=>{v(c)===!0?r.push(c):u.push({failedPropValidation:h,file:c})}),r}function $(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),L(e)}const qe={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},ze=["rejected"];function Ve({editable:e,dnd:u,getFileInput:h,addFilesToQueue:v}){const{props:r,emit:c,proxy:x}=M(),y=E(null),k=s(()=>r.accept!==void 0?r.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),_=s(()=>parseInt(r.maxFiles,10)),q=s(()=>parseInt(r.maxTotalSize,10));function S(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&se(t);else{const b=h();b&&b!==t.target&&b.click(t)}}function z(t){e.value&&t&&v(null,t)}function V(t,b,P,D){let i=Array.from(b||t.target.files);const g=[],C=()=>{g.length>0&&c("rejected",g)};if(r.accept!==void 0&&k.value.indexOf("*/")===-1&&(i=I(i,g,"accept",n=>k.value.some(d=>n.type.toUpperCase().startsWith(d)||n.name.toUpperCase().endsWith(d))),i.length===0))return C();if(r.maxFileSize!==void 0){const n=parseInt(r.maxFileSize,10);if(i=I(i,g,"max-file-size",d=>d.size<=n),i.length===0)return C()}if(r.multiple!==!0&&i.length>0&&(i=[i[0]]),i.forEach(n=>{n.__key=n.webkitRelativePath+n.lastModified+n.name+n.size}),D===!0){const n=P.map(d=>d.__key);i=I(i,g,"duplicate",d=>n.includes(d.__key)===!1)}if(i.length===0)return C();if(r.maxTotalSize!==void 0){let n=D===!0?P.reduce((d,O)=>d+O.size,0):0;if(i=I(i,g,"max-total-size",d=>(n+=d.size,n<=q.value)),i.length===0)return C()}if(typeof r.filter=="function"){const n=r.filter(i);i=I(i,g,"filter",d=>n.includes(d))}if(r.maxFiles!==void 0){let n=D===!0?P.length:0;if(i=I(i,g,"max-files",()=>(n++,n<=_.value)),i.length===0)return C()}if(C(),i.length>0)return i}function B(t){$(t),u.value!==!0&&(u.value=!0)}function o(t){L(t),(t.relatedTarget!==null||ce.is.safari!==!0?t.relatedTarget!==y.value:document.elementsFromPoint(t.clientX,t.clientY).includes(y.value)===!1)===!0&&(u.value=!1)}function a(t){$(t);const b=t.dataTransfer.files;b.length>0&&v(null,b),u.value=!1}function F(t){if(u.value===!0)return m("div",{ref:y,class:`q-${t}__dnd absolute-full`,onDragenter:$,onDragover:$,onDragleave:o,onDrop:a})}return Object.assign(x,{pickFiles:S,addFiles:z}),{pickFiles:S,addFiles:z,onDragover:B,onDragleave:o,processFiles:V,getDndNode:F,maxFilesNumber:_,maxTotalSizeNumber:q}}const G=["B","KB","MB","GB","TB","PB"];function Be(e){let u=0;for(;parseInt(e,10)>=1024&&u<G.length-1;)e/=1024,++u;return`${e.toFixed(1)}${G[u]}`}var je=X({name:"QFile",inheritAttrs:!1,props:{...be,...pe,...qe,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xe,...ze],setup(e,{slots:u,emit:h,attrs:v}){const{proxy:r}=M(),c=ye(),x=E(null),y=E(!1),k=_e(e),{pickFiles:_,onDragover:q,onDragleave:S,processFiles:z,getDndNode:V}=Ve({editable:c.editable,dnd:y,getFileInput:U,addFilesToQueue:K}),B=Ce(e),o=s(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),a=s(()=>W(o.value)),F=s(()=>o.value.map(l=>l.name).join(", ")),t=s(()=>Be(o.value.reduce((l,f)=>l+f.size,0))),b=s(()=>({totalSize:t.value,filesNumber:o.value.length,maxFiles:e.maxFiles})),P=s(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:k.value,...v,id:c.targetUid.value,disabled:c.editable.value!==!0})),D=s(()=>"q-file q-field--auto-height"+(y.value===!0?" q-file--dnd":"")),i=s(()=>e.multiple===!0&&e.append===!0);function g(l){const f=o.value.slice();f.splice(l,1),n(f)}function C(l){const f=o.value.findIndex(l);f>-1&&g(f)}function n(l){h("update:modelValue",e.multiple===!0?l:l[0])}function d(l){l.keyCode===13&&fe(l)}function O(l){(l.keyCode===13||l.keyCode===32)&&_(l)}function U(){return x.value}function K(l,f){const p=z(l,f,o.value,i.value),Q=U();Q!=null&&(Q.value=""),p!==void 0&&((e.multiple===!0?e.modelValue&&p.every(J=>o.value.includes(J)):e.modelValue===p[0])||n(i.value===!0?o.value.concat(p):p))}function N(){return[m("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function Y(){if(u.file!==void 0)return o.value.length===0?N():o.value.map((f,p)=>u.file({index:p,file:f,ref:this}));if(u.selected!==void 0)return o.value.length===0?N():u.selected({files:o.value,ref:this});if(e.useChips===!0)return o.value.length===0?N():o.value.map((f,p)=>m(ke,{key:"file-"+p,removable:c.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{g(p)}},()=>m("span",{class:"ellipsis",textContent:f.name})));const l=e.displayValue!==void 0?e.displayValue:F.value;return l.length>0?[m("div",{class:e.inputClass,style:e.inputStyle,textContent:l})]:N()}function H(){const l={ref:x,...P.value,...B.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:K};return e.multiple===!0&&(l.multiple=!0),m("input",l)}return Object.assign(c,{fieldClass:D,emitValue:n,hasValue:a,inputRef:x,innerValue:o,floatingLabel:s(()=>a.value===!0||W(e.displayValue)),computedCounter:s(()=>{if(e.counterLabel!==void 0)return e.counterLabel(b.value);const l=e.maxFiles;return`${o.value.length}${l!==void 0?" / "+l:""} (${t.value})`}),getControlChild:()=>V("file"),getControl:()=>{const l={ref:c.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return c.editable.value===!0&&Object.assign(l,{onDragover:q,onDragleave:S,onKeydown:d,onKeyup:O}),m("div",l,[H()].concat(Y()))}}),Object.assign(r,{removeAtIndex:g,removeFile:C,getNativeElement:()=>x.value}),de(r,"nativeEl",()=>x.value),Se(c)}}),Ie="/assets/camera.ef9648ca.png";const Pe=ve({name:"IndexPage",data(){return{enableCamera:!1,cameraStart:!1,imageCapture:null,track:null}},mounted(){navigator.mediaDevices.getUserMedia&&(this.enableCamera=!0)},methods:{useCamera(){navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{this.cameraStart=!0,this.$refs.videoplay.srcObject=e,this.track=e.getVideoTracks()[0],this.imageCapture=new ImageCapture(this.track)})},takePhoto(){console.log("take a photo")}}}),De=w("canvas",{style:{display:"none"},id:"foto"},null,-1),we={class:"flex flex-center"},Ne=w("div",{class:"text-h4 q-mx-lg",style:{color:"white"}},"Ol\xE1, Cicrano!",-1),Ae={class:"col-12 flex flex-center"},$e=w("div",{class:"text-center text-subtitle2 q-ma-md"},"Tire uma foto para podermos identificar que tipo de praga que o aflige!",-1);function Oe(e,u,h,v,r,c){return ge(),he(te,{class:"column justify-between",style:{"background-color":"#087E05"}},{default:A(()=>[De,w("div",we,[j(R,{class:"col-12 self-center"},{default:A(()=>[Ne]),_:1})]),w("div",Ae,[j(R,{class:"col-12 bg-white column justify-center items-center",style:{"border-radius":"30px 30px 0px 0px","min-height":"450px"}},{default:A(()=>[j(le,{width:"184px",height:"139px",src:Ie}),$e,j(R,{class:"q-my-md column justify-between col-4"},{default:A(()=>[j(ae,{color:"primary",rounded:"",outlined:"",to:{name:"camera"},size:"lg",label:"Camera"}),j(je,{"bg-color":"secondary",rounded:"",outlined:"","text-color":"white",label:"selecionar",style:{"text-align":"center","justify-content":"center"},class:"col-12 q-my-sm",onClick:e.takePhoto,ref:"imageCapture"},null,8,["onClick"])]),_:1})]),_:1})])]),_:1})}var Ge=me(Pe,[["render",Oe]]);export{Ge as default};
